function eli18n(a){this.textdomain=function(b){return this.messages[b]?this._domain=b:this._domain};a&&a.messages&&this.load(a.messages);a&&a.textdomain&&this.textdomain(a.textdomain)}eli18n.prototype=new function(){this.messages={};this._domain="";this.load=function(c){if(typeof(c)=="object"){for(var e in c){var b=c[e];if(typeof(b)=="object"){if(!this.messages[e]){this.messages[e]={}}for(var a in b){if(typeof(b[a])=="string"){this.messages[e][a]=b[a]}}}}}return this};this.translate=function(b,a){var a=a&&this.messages[a]?a:this._domain;return this.messages[a]&&this.messages[a][b]?this.messages[a][b]:b};this.format=function(e,b,c){e=this.translate(e,c);if(typeof(b)=="object"){for(var a in b){e=e.replace("%"+a,this.translate(b[a],c))}}return e}};